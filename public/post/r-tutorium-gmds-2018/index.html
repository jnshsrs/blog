<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>R Tutorium GMDS 2018 | Science, Physiotherapy and Stats</title>



<link href="/index.xml" rel="alternate" type="application/rss+xml" title="Science, Physiotherapy and Stats" />

<link rel="stylesheet" href="/css/style.css"/><link rel='stylesheet' href='/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="/"><h1 class="title is-4">Science, Physiotherapy and Stats</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile"><a class="level-item" aria-label="email" href='mailto:jenshuesers@gmail.com' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="github" href='https://github.com/jnshsrs' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/Jens%20H%c3%bcsers' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="twitter" href='https://twitter.com/jnshsrs' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
</section>

<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/rstats">#rstats</a>



      
    </div>
    <h2 class="subtitle is-6">September 6, 2018</h2>
    <h1 class="title">R Tutorium GMDS 2018</h1>
    
    <div class="content">
      <div id="preface" class="section level1">
<h1>Preface</h1>
<p>Dieser Post enthält das Skript sowie die Aufgaben inklusive Lösungen meines Tutoriums “Einstieg in die Programmiersprache R” auf der 63. Jahrestagung der GMDS e.V. in Osnabrück am 6.9.2018. Das Skript mit den Aufgaben ohne Lösungen sind in der Datei <code>workbook-rstats-gmds18-aufgaben.Rmd</code> auf <a href="https://github.com/jnshsrs/gmds18-tutorium-rstats" title="Github Repository">Github</a> verfügbar.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>In diesem Kurs werden wir mit R und RStudio als Programmierumgebung (IDE) arbeiten. Beide Programme stehen kostenlos zur Verfügung.</p>
<p>Zunächst muss die Programmiersprache R installiert werden. Die aktuelle Version kann auf der offiziellen R-Website heruntergeladen werden (<a href="http://www.r-project.org" class="uri">http://www.r-project.org</a>)</p>
<p>Danach kann RStudio installiert werden, welches unter der Open Source Lizenz kostenlos zur Verfügung steht (<a href="https://www.rstudio.com/products/rstudio/download/" class="uri">https://www.rstudio.com/products/rstudio/download/</a>).</p>
</div>
<div id="warum-r" class="section level2">
<h2>Warum R?</h2>
<p>R hat eine steile Lernkurve und häufig fällt der Einstieg ohne Ausbildung zum Informatiker oder “Computer Scientist”. Jedoch zahlt sich das Lernen für Personen aus, die in der Wissenschaft arbeiten.</p>
<p>Welche Vorteile bieten Programmiersprachen im Vergleich zu den Statistiksoftwaretools wie SPSS und SAS?</p>
<ul>
<li>Kostenlos mit vielen Erweiterungen und Unterstützung einer breiten R-Nutzergruppe (z.B. auf Stackoverflow)</li>
<li>Dokumentation durch Computer Code</li>
<li>Reproduzierbarkeit der Analysen</li>
<li><p>Möglichkeit fremde Pakete zu nutzten oder eigene Pakete zu schreiben um eigenen Arbeits- und Analyseprozesse zu standardisieren.</p></li>
<li><p>R ist auch ein Werkzeug bzw. ein Werkzeugkoffer, um “Statistik” zu verstehen und neue statistische Konzepte zu lernen.</p></li>
</ul>
</div>
<div id="r-studio" class="section level2">
<h2>R Studio</h2>
<ul>
<li><p>Programmeinführung R-Studio</p></li>
<li>Dokumentation</li>
<li>Umgebung (Enironment)</li>
<li><p>Konsole</p></li>
</ul>
</div>
<div id="lern-ressourcen-und-materialien" class="section level2">
<h2>Lern-Ressourcen und Materialien</h2>
<ul>
<li><a href="www.stackoverflow.com">stackoverflow.com</a> Online Forum, ein Fragesteller stellt eine Frage und jemand antwortet. Antworten können von anderen Nutzern bewertet werden</li>
<li>R for Data Science (im Internet frei verfügbar)</li>
<li>Twitter (z.B. <span class="citation">[@hadlywickham]</span>(www.twitter.com(hadlywickham), <span class="citation">[@rdpeng]</span>(<a href="https://twitter.com/rdpeng" class="uri">https://twitter.com/rdpeng</a>)))</li>
<li><a href="www.datacamp.com">DataCamp</a>, <a href="www.udemy.com">Udemy</a> (Kostenpflichtige eLearning Platformen im Bereich statistisches Programmieren und Data Science)</li>
<li>kostenfreie Online-Lern Angebote auf Youtube z.B. <a href="https://www.youtube.com/playlist?list=PLqzoL9-eJTNBDdKgJgJzaQcY6OXmsXAHU">MarinStatsLectures</a></li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/">Oft existieren für bestimmte Probleme sogenannte CheatSheets bzw. Spickzettel, welche die wichtigsten Kommandos zusammenfassen</a></li>
</ul>
</div>
</div>
<div id="kapitel-1---datenstrukturen" class="section level1">
<h1>Kapitel 1 - Datenstrukturen</h1>
<div id="einstieg-in-die-konsole-und-datentypen" class="section level2">
<h2>Einstieg in die Konsole und Datentypen</h2>
<p>Vorab wichtig: R ist CaseSensitive, dass heißt, Groß- und Kleinbuchstaben sind unterschiedliche Zeichen. Der Großbuchstabe <code>X</code> ist demnach nicht das selbe wie der Kleinbuchstabe x. Im R-Code werden daher zum Beispiel Variablennamen <code>x_mean</code> und <code>X_mean</code> unterschiedlich interpretiert.</p>
<ul>
<li>Datentypen (Numerisch, Integer, String, Faktoren, Boolean)</li>
<li>Integer (Ganzzahl) z.B. <code>100</code></li>
<li>Numerisch (Float, Kommazahl) <code>0.12</code> oder Ratio zweier Integer <code>1/10</code></li>
<li>Boolean <code>TRUE</code> or <code>FALSE</code> (oder entprechend 1 und 0), werden in R als Datentyp <code>logical</code> bezeichnet</li>
<li><p>Zeichenkette, String <code>&quot;Dies ist eine Zeichenkette&quot;</code></p></li>
<li><p>Datetime Datentyp (z.B. <code>as.Date(&quot;2017-05-05&quot;)</code>, hier ist die Funktionseingabe eine Zeichenkette in einer bestimmten Reihenfolge Jahr-Monat-Tag)</p></li>
<li>Besondere Datenwerte sind fehlende Werte z.B. <code>NA</code> (Not available) oder <code>NaN</code> (Not a Number z.B. <code>log(-10)</code>)</li>
<li><p><code>NULL</code> Wert</p></li>
</ul>
<p>Zum Überprüfen des Datentyps gibt es verschiedene Funktionen z.B. <code>is.character()</code>, <code>is.numeric()</code> oder <code>is.logical()</code></p>
<ul>
<li>(Build-In) Funktionen</li>
<li>z.B. <code>abs()</code>, <code>sqrt()</code>, <code>nchar()</code>, <code>mean()</code></li>
<li>Dokumentation <code>?abs</code></li>
<li><p>Funktions-Parameter</p></li>
<li><p>Erstellen und Nutzten von Datenstrukturen (“Objekte” und “Klassen”)</p></li>
<li>Vektoren <code>c()</code></li>
<li>Liste: <code>list()</code></li>
<li><p>data.frame <code>data.frame()</code></p></li>
</ul>
<p>Es gibt noch weitere Datentypen, wie z.B. Matrix oder umfangreichere Strukturen wie z.B. Lineare Regressionsmodelle Da R Methoden für das objekt-orientierte Programmieren anbietet, können auch eigene Datenstrukturen entwickelt und genutzt werden.</p>
</div>
<div id="r-als-taschenrechner-kennenlernen-der-konsole" class="section level2">
<h2>R als Taschenrechner (Kennenlernen der Konsole)</h2>
<p>Wir können mathematische Operationen mit der R-Konsole berechen.</p>
<pre class="r"><code>1 + 1 # 2
1 - 1 # 0
2 * 4 # 8
2 / 4 # 1/2 oder .5

1 + 1/2
1 / 1  + 2
sqrt(9) + 3
sqrt(2)^2</code></pre>
<p>In R ist es üblich Ergebnisse in einer Variable zu speichern. Das ist mit einem “Pfeil”&quot; als Zuweisungsoperator <code>&lt;-</code> (ein kleiner als Zeichen gefolgt von einem Minuszeichen) möglich. Auch <code>=</code> ist möglich, in R aber unüblich.</p>
<p>Zum Beispiel kann die Summe aus der ersten Berechnung in einer Variablen <code>x</code> und die Summe aus Berechnung zwei in <code>y</code> gespeichert werden.</p>
<p><code>x &lt;- 1 + 1</code> und <code>y &lt;- 2 * 4</code>, wobei x und y die Ergebnisse der Berechnung in Form eines numerischen Datentyps (s.u) speichern.</p>
<p><code>x + y</code> repräsentiert somit <code>(1 + 1) + (2 * 4)</code> bzw. <code>2 + 8</code>. R beachtet dabei Rechenregeln wie beispielsweise das Kommutativgesetzt oder das Assoziativgesetz.</p>
</div>
<div id="arbeiten-mit-vektoren" class="section level2">
<h2>Arbeiten mit Vektoren</h2>
<p>Durchschnittlich Temperaturen in den kommenden sieben Tagen.</p>
<pre class="r"><code># Erstellen eines Vektors
# Temperatur
# Daten aus Goolge https://www.google.com/search?q=google+wetter&amp;ie=utf-8&amp;oe=utf-8&amp;client=firefox-b-ab 
# Suche am 19.4.2017
temperaturen &lt;- c(27, 27, 22, 24, 13, 13, 13, 12)

# Was ist die höchste bzw. die kleinste Temperatur?
max_temp &lt;- max(temperaturen)
min_temp &lt;- min(temperaturen)
paste(&quot;Der wärmste Tag wird&quot;, max_temp, &quot;Grad Celsius warm. Die kälteste&quot;, min_temp, &quot;Grad Celsius.&quot;)</code></pre>
<pre><code>## [1] &quot;Der wärmste Tag wird 27 Grad Celsius warm. Die kälteste 12 Grad Celsius.&quot;</code></pre>
<pre class="r"><code>median(temperaturen) # Berechnen des Medians</code></pre>
<pre><code>## [1] 17.5</code></pre>
<pre class="r"><code># Extra Informationen: 
# Da der Median das 50% Quantil ist, kann dieser auch durch die Funktion `quantile` berechnet werden
# Diese Funktion erwartet zwei Argumente:
# Einen Vektor, der die Daten bzw. die Variable beinhaltet
# Zudem einen Vektor der die zu berechnenden Quantile beinhaltet
# Nähere Informationen durch `?quantile`
quantile(x = temperaturen, probs = c(.5)) # Das zweite Argument enthalt nur einen Wert (.5), da wir ausschließlich den Median errechnen möchten</code></pre>
<pre><code>##  50% 
## 17.5</code></pre>
</div>
<div id="eigenschaften-von-vektoren" class="section level2">
<h2>Eigenschaften von Vektoren</h2>
<ul>
<li>Vektoren Recycling</li>
<li>Vektorisierte Operationen</li>
</ul>
<p>Beispiele für vektorisierte Operationen</p>
<pre class="r"><code># Messgerät unterschätzt jede Messung um einen Grad
temperaturen_unbiased &lt;- temperaturen + 1

# Messgerät ist falsch kalibriert und überschätzt mit steigender Temperatur 
# die tatsächliche Temperatur (um 10%)
temperaturen * .9</code></pre>
<pre><code>## [1] 24.3 24.3 19.8 21.6 11.7 11.7 11.7 10.8</code></pre>
<div class="task">
<p class="task">
<p><strong>Aufgabe:</strong></p>
<p>Rechne die Temperaturen die im Vektor <em>temperaturen</em> gespeichert sind in die Einheit Fahrenheit um.</p>
<p>Dazu muss die Temperatur in Celsius mit 5/9 multipliziert und zu dieser Größe 32 addiert werden.</p>
<pre class="r"><code>temperaturen_fahrenheit &lt;- temperaturen * 5/9 + 32
print(temperaturen_fahrenheit)</code></pre>
<pre><code>## [1] 47.00000 47.00000 44.22222 45.33333 39.22222 39.22222 39.22222 38.66667</code></pre>
</p>
</div>
</div>
</div>
<div id="kapitel-2---funktionen" class="section level1">
<h1>Kapitel 2 - Funktionen</h1>
<div class="figure">
<img src="/img/tut1-r-function.png" alt="Syntaktische Aufbau einer Funktion in R" />
<p class="caption">Syntaktische Aufbau einer Funktion in R</p>
</div>
<div id="anwendungsbeispiel-mittelwert" class="section level2">
<h2>Anwendungsbeispiel Mittelwert</h2>
<pre class="r"><code># Mittelwert
mittelwert &lt;- function(x) {
  n &lt;- length(x) 
  sum_x &lt;- sum(x)
  sum_x / n
}</code></pre>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Erstellen Sie eine Funktion um die (empirische) Standardabweichung zu berechnen die wie in der folgenden Funktion definiert ist.</p>
<p><span class="math inline">\(\sigma =\sqrt{\frac{1}{n-1}\cdot {\sum\limits_{i=1}^n} (x_i-\bar{x})^2}\)</span></p>
<ul>
<li>Die Standardabweichung ist definiert als Wurzel des Mittelwerts folgender Größe: Der Summe der quadrierten Abweichung jedes Datenpunktes vom Mittelwert (SAQ).*</li>
</ul>
<p>Folgende Funktionen sind nützlich für die Erstellung dieser Funktion:</p>
<ul>
<li><code>length</code> die Länge des Vektors</li>
<li><code>sum</code> Summe eines Vektors</li>
<li><code>x^2</code> Quadiert die Inhalte des Vektors <code>x</code></li>
</ul>
<p>Die (empirische) Standardabweichung beschreibt die Streuung einer Zufallsvariable. Je größer die Standardabweichung desto wahrscheinlich sind Datenpunkte, die eine höhere Distanz zum Mittelwert haben.</p>
<pre class="r"><code>source(&quot;code/temperaturen.R&quot;)
# Standardabweichung
standardabweichung &lt;- function(x) {
  # Anzahl der Beobachtungen der Variablen
  n &lt;- length(x)
  # Berechnung des Mittelwerts (die vorher definierte Funktion)
  mw &lt;- mittelwert(x)
  # Berechnen der Summe der Abweichungsquadrate (saq)
  saq &lt;- sum((x - mw)^2)
  # Berechnung der Standardabweichung
  stabw &lt;- sqrt((1 / (n - 1)) * saq)
  return(stabw)
}

standardabweichung(temperaturen) </code></pre>
<pre><code>## [1] 6.749339</code></pre>
<pre class="r"><code># Je kleiner die Standardabweichung, desto konstanter ist das Wetter in diesen Acht Tagen</code></pre>
</div>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Recherchiere bei Google die Temperaturen der kommenden Tage für Moskau und Los Angeles. Es werden bei Google das Wetter für den aktuellen Tag und der folgenden Woche angegeben.</p>
<p>Schreib eine Funktion mit dem Namen <code>wettervorhersage</code>. Diese Funktion hat einen Parameter (oder auch Funktionsargument genannt). Dieser Parameter ist ein numerischer Vektor (mit der Temperatur der kommenden Tage).</p>
<p>Die Funktion soll die kleinste und die höchste Temperatur berechnen sowie die Standardabweichung und die Informationen als String zurück geben.</p>
<p>In welcher Stadt ist besseres Wetter, wo ist das Wetter konstanter?</p>
<pre class="r"><code>wettervorhersage &lt;- function(x) {
  min_temp &lt;- min(x)
  max_temp &lt;- max(x)
  stabw &lt;- standardabweichung(x)
  vorhersage &lt;- paste0(&quot;Die geringste Temperatur ist: &quot;, min_temp, &quot; und die höchste Temperatur &quot;, max_temp, &quot; Grad Celsius.&quot;)
  konstant &lt;- paste0(&quot;Die Temperaturschwankung (gemessen durch die Standardabweichung) beträgt &quot;, round(stabw, 2), &quot; Grad Celsius.&quot;)
  print(vorhersage)
  print(konstant)
}

los_angeles &lt;- c(29, 31, 31, 28, 26, 26, 26, 26)
moskau &lt;- c(19, 18, 10, 9, 9, 9, 8, 8)
  
wettervorhersage(los_angeles)</code></pre>
<pre><code>## [1] &quot;Die geringste Temperatur ist: 26 und die höchste Temperatur 31 Grad Celsius.&quot;
## [1] &quot;Die Temperaturschwankung (gemessen durch die Standardabweichung) beträgt 2.23 Grad Celsius.&quot;</code></pre>
<pre class="r"><code>wettervorhersage(moskau)</code></pre>
<pre><code>## [1] &quot;Die geringste Temperatur ist: 8 und die höchste Temperatur 19 Grad Celsius.&quot;
## [1] &quot;Die Temperaturschwankung (gemessen durch die Standardabweichung) beträgt 4.53 Grad Celsius.&quot;</code></pre>
</div>
</div>
</div>
<div id="kapitel-3---datensatz" class="section level1">
<h1>Kapitel 3 - Datensatz</h1>
<div id="arbeiten-mit-listen-und-data.frames" class="section level2">
<h2>Arbeiten mit Listen und data.frames</h2>
<p>Ist eine Sammlung verschiedener Datentypen.</p>
<p>Erstellen von Listen durch die Funktion <code>list()</code>.</p>
<pre class="r"><code># In einem Vektor müssen die Elemente den gleichen Datentyp haben
# Welcher Datentyp besitzt der folgende Vektor?
c(&quot;A&quot;, 2)</code></pre>
<pre><code>## [1] &quot;A&quot; &quot;2&quot;</code></pre>
<pre class="r"><code># Die Liste muss nicht die selben Datentypen beinhalten (in Gegensatz zu einem Vektor)
# Beispielliste mit zwei Einträgen
beispielliste &lt;- list(1, &quot;B&quot;)

# Wir können auch Vektoren als Listenelemente speichern 
temperaturen_liste &lt;- list(temperaturen_la, temperaturen_moskau)

# Wir können sogar Funktionen in Listen speichern 
# Und wem das nicht genug ist, der speichert einfach eine Liste in einer Liste ;)
sinnlosse_beispielliste &lt;- list(beispielliste, standardabweichung)
str(sinnlosse_beispielliste)</code></pre>
<pre><code>## List of 2
##  $ :List of 2
##   ..$ : num 1
##   ..$ : chr &quot;B&quot;
##  $ :function (x)  
##   ..- attr(*, &quot;srcref&quot;)= &#39;srcref&#39; int [1:8] 4 23 14 1 23 1 4 14
##   .. ..- attr(*, &quot;srcfile&quot;)=Classes &#39;srcfilecopy&#39;, &#39;srcfile&#39; &lt;environment: 0x7fdc2896d5d8&gt;</code></pre>
</div>
<div id="datensatz-aka-data.frame" class="section level2">
<h2>Datensatz aka data.frame</h2>
<p>Der <code>data.frame</code>ist eine besondere Form der Liste. Er enthält <span class="math inline">\(j\)</span> Vektoren der selben Länge <span class="math inline">\(n\)</span>.</p>
<pre class="r"><code>temperaturen &lt;- data.frame(temperaturen_la, temperaturen_moskau)

# Mit verschiedenen Funktionen können wir den Datensatz darstellen
nrow(temperaturen) # Anzahl der Zeilen des Datensatzes</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="r"><code>ncol(temperaturen) # Anzahl der Spalten des Datensatzes</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>dim(temperaturen) # Anzahl der Zeilen und Spalten </code></pre>
<pre><code>## [1] 8 2</code></pre>
<pre class="r"><code>str(temperaturen) # Struktur des Datensates</code></pre>
<pre><code>## &#39;data.frame&#39;:    8 obs. of  2 variables:
##  $ temperaturen_la    : num  18 22 26 26 25 24 23 22
##  $ temperaturen_moskau: num  16 14 18 8 8 12 12 13</code></pre>
<pre class="r"><code>head(temperaturen, n = 2) # Zwei Funktionsargumente, n ist die Anzahl der Zeilen, welche angezeigt werden sollen</code></pre>
<pre><code>##   temperaturen_la temperaturen_moskau
## 1              18                  16
## 2              22                  14</code></pre>
<pre class="r"><code>tail(temperaturen, n = 2) </code></pre>
<pre><code>##   temperaturen_la temperaturen_moskau
## 7              23                  12
## 8              22                  13</code></pre>
<pre class="r"><code>colnames(temperaturen) # Spaltennamen</code></pre>
<pre><code>## [1] &quot;temperaturen_la&quot;     &quot;temperaturen_moskau&quot;</code></pre>
<pre class="r"><code>class(temperaturen) # Klasse des Objekts (in diesem Fall `data.frame`)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
</div>
<div id="operationen-mit-datensatzen-data.frames" class="section level2">
<h2>Operationen mit Datensätzen (data.frames)</h2>
<p>Oft möchte man nur mit Ausschnitten des Datensatzes arbeiten. R bietet die Möglichkeit einzelne Spalten (Variablen) des Datensatzes auszuwählen sowie einzelne Zeilen auszuwählen. Für unseren Datensatz mit den Temperaturen könnten wir z.B. ausschließlich die Temperaturen für das Wochenende und nur für Los Angeles auswählen.</p>
<p>Es gibt mehrere Möglichkeiten, eine Auswahl eines Datensatzes zu erzeugen. Wenn wir einzelne Spalten eines Datensatzes auswählen möchten, eignet sich die <code>$</code>(Dollar)-Notation. Dabei wird über den Datensatznamen und den Spaltennamen, die durch ein <code>$</code> verknüft werden auf die spezielle Spalte zugegriffen: <code>datensatz_name$spaltenname</code> Wenn wir auf die Spalte <code>temperaturen_la</code> unseres Datensatzes <code>temperaturen</code> zugreifen wolle, könnten wir dieses durch den Befehl <code>temperaturen$temperaturen_la</code></p>
<p>In diesem Fall ist das Ergebnis ein Vektor mit den Daten aus der abgefragten Spalte <code>temperaturen_la</code>.</p>
<p>Die <code>$</code>-Notation ermöglicht es uns nicht nur, auf einzelne Spalten zurückzugreifen, sondern auch neue Spalten zu erstellen.</p>
<pre class="r"><code>data.frame$neue_spalte &lt;- x 
# wobei x ein Vektor mit neuen Daten ist, z.B. das Datum der entsprechenden Tage 

temperaturen$temperaturen_kairo &lt;- c(36, 35, 37, 37, 36, 35, 34, 34)</code></pre>
</div>
<div id="importieren-eines-datensatzes" class="section level2">
<h2>Importieren eines Datensatzes</h2>
<p><img src="/img/tut1-r-csv-rows.png" style="width:45.0%" /> <img src="/img/tut1-r-csv-columns.png" style="width:45.0%" /></p>
<p>Der Datensatz, in R als <code>data.frame</code> bezeichnet, ist eine zentrale Datenstruktur, die bei Datenanalysen zum Einsatz kommt. Viele Datensätze sind so formatiert, dass sie direkt in R importiert werden können. So können zum Beispiel <code>data.frames</code> aus Excel, SPSS oder SAS direkt importiert werden.</p>
<p>Häufig liegen diese Daten jedoch in Textdateien im CSV-Format vor. CSV steht für Komma-separierte-Werte (engl. comma-separated-values). Mit Hilfe der Funktion <code>read.csv</code> können Dateien im CSV-Format in R eingelesen werden.</p>
<p>Wir verwenden in diesem Tutorial den <a href="https://www.kaggle.com/c/titanic">Titanic Datensatz</a>.</p>
<div class="figure">
<img src="/img/titanic-new-york-herald.jpeg" alt="Headline of THE NEW YORK HERALD 15th of April 1912" />
<p class="caption">Headline of THE NEW YORK HERALD 15th of April 1912</p>
</div>
<pre class="r"><code>titanic &lt;- read.csv(&quot;data/titanic.csv&quot;)

library(tidyverse)
head(titanic)</code></pre>
<pre><code>##   pclass survived                                            name    sex
## 1      1        1                   Allen, Miss. Elisabeth Walton female
## 2      1        1                  Allison, Master. Hudson Trevor   male
## 3      1        0                    Allison, Miss. Helen Loraine female
## 4      1        0            Allison, Mr. Hudson Joshua Creighton   male
## 5      1        0 Allison, Mrs. Hudson J C (Bessie Waldo Daniels) female
## 6      1        1                             Anderson, Mr. Harry   male
##     age sibsp parch ticket     fare   cabin embarked boat body
## 1 29.00     0     0  24160 211.3375      B5        S    2   NA
## 2  0.92     1     2 113781 151.5500 C22 C26        S   11   NA
## 3  2.00     1     2 113781 151.5500 C22 C26        S   NA   NA
## 4 30.00     1     2 113781 151.5500 C22 C26        S   NA  135
## 5 25.00     1     2 113781 151.5500 C22 C26        S   NA   NA
## 6 48.00     0     0  19952  26.5500     E12        S    3   NA
##                         home.dest
## 1                    St Louis, MO
## 2 Montreal, PQ / Chesterville, ON
## 3 Montreal, PQ / Chesterville, ON
## 4 Montreal, PQ / Chesterville, ON
## 5 Montreal, PQ / Chesterville, ON
## 6                    New York, NY</code></pre>
<p>Diese spezielle R-Syntax erlaubt es, auf einzelne Spalten eines Datensatzes zuzugreifen.</p>
<p>Eine weitere Möglichkeit auf eine Auswahl des Datensatzes zist die sogenannten <code>[</code>-Notation, wobei <code>[</code> als “bracket” oder “Eckige Klammer” bezeichnet wird. Diese hat folgende Syntax: <code>datensatz[zeilenfilter, vektor mit den spaltennamen]</code>. <code>datensatz</code> bezeichnet den Namen des spezifischen Datensatzes, unser erstellter Datensatz hat den Namen. In die folgenden eckigen Klammern wird die Auswahl des Datensatzes spezifiziert. Vor dem Komma wird der Zeilenfilter gesetzt, nach der Klammer ein <code>character</code> Vektor, der die Namen der ausgewählten Spalten enthält. Das Resultat ist ein neuer Datensatz, ausschließlich mit den Zeilen und Spalten, die ausgewählt wurden.</p>
</div>
<div id="auswahlen-von-zeilen-und-spalten" class="section level2">
<h2>Auswählen von Zeilen und Spalten</h2>
<pre class="r"><code>titanic[, &quot;age&quot;] # Nur Spalte Age
titanic[1, ] # Nur erste Zeile
titanic[c(1, 2), c(&quot;age&quot;, &quot;sex&quot;)] # gibt die ersten beiden Zeilen und die Spalten Alter und Geschlecht wieder
titanic[titanic$age &lt;= 18, ] # gibt die ersten beiden Zeilen und die Spalten Alter und Geschlecht wieder
titanic[titanic$sex == &quot;male&quot;, ] # gibt die ersten beiden Zeilen und die Spalten Alter und Geschlecht wieder</code></pre>
<p><strong>Cave: Oben habe ich geschrieben, das Ergebnis sei eine neuer Datensatz, also ein R-Objekt des Typs `data.frame´. Wenn nur eine Spalte ausgewählt wird, ist das Ergebnis ein Vektor</strong></p>
<div class="task">
<p><strong>Aufgabe</strong></p>
<ul>
<li>Wie viele Passagiere waren auf der Reise unter 18 Jahre alt?</li>
<li>Was ist das durchschnittliche Alter der Männer und der Frauen?</li>
<li>Wie hoch ist der durchschnittliche Ticktpreis (<code>fare</code>-Spalte)</li>
</ul>
<pre class="r"><code># Anzahl unter 18-jähriger Passagiere
nrow(titanic[titanic$age &lt; 18, ])</code></pre>
<pre><code>## [1] 417</code></pre>
<pre class="r"><code># Durchschnittlicher Alter Herren
mean(titanic$age[titanic$sex == &quot;male&quot;], na.rm = TRUE)</code></pre>
<pre><code>## [1] 30.58523</code></pre>
<pre class="r"><code># Durchschnittliches Alter Damen
mean(titanic$age[titanic$sex == &quot;female&quot;], na.rm = TRUE)</code></pre>
<pre><code>## [1] 28.68709</code></pre>
<pre class="r"><code># Durchschnittliche Ticketpreis
mean(titanic$fare, na.rm = TRUE)</code></pre>
<pre><code>## [1] 33.29548</code></pre>
</div>
</div>
</div>
<div id="kapitel-4---tidyverse" class="section level1">
<h1>Kapitel 4 - Tidyverse</h1>
<div id="nutzen-von-paketen" class="section level2">
<h2>Nutzen von Paketen</h2>
<p>Bisher haben wir uns mit den Standardfunktionen von R befasst. Zudem haben wir eine Funktions selber geschrieben.</p>
<p>Häufig entwickeln Statistiker und Programmierer Erweiterungen, die auch Pakete genannt werden, die wir als sogenannte <code>library</code> nutzten können.</p>
<p>Eine der zentralen Erweiterungen in R momentan ist das Paket <code>tidyverse</code>. Es erweitert den Funktionsumfang von data.frames. Diese weiterentwickelte data.frame wir auch als <code>tibble</code> bezeichnet.</p>
<p>Pakete wie <code>tidyverse</code> müssen zusätzlich installiert werden. Dies gelingt durch die Funktion <code>install.packages</code> z.B. <code>install.package(tidyverse)</code>.</p>
<p>Um das Paket zu nutzten müssen wir es zunächst laden. Dies gelingt durch den Funktionsaufruf <code>library(tidyverse)</code>.</p>
</div>
<div id="importieren-von-daten" class="section level2">
<h2>Importieren von Daten</h2>
<p>Auch Tidyverse-Paket hat eine Funktion, um Daten im CSV-Formtat zu importieren (und auch zu exportieren). Diese Funktion hat den Vorteil, dass sie die Daten schneller liest und den Datentyp einzelner Spalten zuverlässiger erkennt.</p>
<p>Die Funktion heißt <code>read_csv</code> (nicht verwechseln mit der Funktion <code>read.csv</code> die mit einem Punkt geschrieben wird). Die Dokumentation erhalten wir durch <code>?read_csv</code>.</p>
<pre class="r"><code>library(tidyverse)
titanic &lt;- read_csv(&quot;data/titanic.csv&quot;)</code></pre>
<p>Es existieren in R Erweiterung die Schnittstellen und Importmöglichkeiten für andere Datenformate bieten:</p>
<ul>
<li>SPSS <code>haven::read_sav(file = &quot;data/titanic.sav&quot;)</code></li>
<li>Excel <code>readxl::read_xlsx(file = &quot;data/titanic.xlsx&quot;)</code></li>
</ul>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Nutzen sie die beiden Funktionen um den Datensatz als data.frame zu importieren. Speichern Sie den jeweiligen Datensatz in einer Variable.</p>
<p>Berechnen Sie den Mittelwert des Alters und vergleichen Sie die Ergebnisse.</p>
<pre class="r"><code># einlesen des SPSS Datensatzes mit dem haven Paket
titanic_sav &lt;- haven::read_sav(file = &quot;data/titanic.sav&quot;)
head(titanic_sav) # ersten sechs Zeilen des Datensatzes</code></pre>
<pre><code>## # A tibble: 6 x 14
##   pclass survived name  sex     age sibsp parch ticket  fare cabin embarked
##    &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
## 1      1        1 Alle… fema… 29        0     0 24160  211.  B5    S       
## 2      1        1 Alli… male   0.92     1     2 113781 152.  C22 … S       
## 3      1        0 Alli… fema…  2        1     2 113781 152.  C22 … S       
## 4      1        0 Alli… male  30        1     2 113781 152.  C22 … S       
## 5      1        0 Alli… fema… 25        1     2 113781 152.  C22 … S       
## 6      1        1 Ande… male  48        0     0 19952   26.6 E12   S       
## # ... with 3 more variables: boat &lt;chr&gt;, body &lt;dbl&gt;, home.dest &lt;chr&gt;</code></pre>
<pre class="r"><code>summary(titanic_sav) # Zusammenfassung des Datensatzes</code></pre>
<pre><code>##      pclass         survived         name               sex           
##  Min.   :1.000   Min.   :0.000   Length:1309        Length:1309       
##  1st Qu.:2.000   1st Qu.:0.000   Class :character   Class :character  
##  Median :3.000   Median :0.000   Mode  :character   Mode  :character  
##  Mean   :2.295   Mean   :0.382                                        
##  3rd Qu.:3.000   3rd Qu.:1.000                                        
##  Max.   :3.000   Max.   :1.000                                        
##                                                                       
##       age            sibsp            parch          ticket         
##  Min.   : 0.17   Min.   :0.0000   Min.   :0.000   Length:1309       
##  1st Qu.:21.00   1st Qu.:0.0000   1st Qu.:0.000   Class :character  
##  Median :28.00   Median :0.0000   Median :0.000   Mode  :character  
##  Mean   :29.88   Mean   :0.4989   Mean   :0.385                     
##  3rd Qu.:39.00   3rd Qu.:1.0000   3rd Qu.:0.000                     
##  Max.   :80.00   Max.   :8.0000   Max.   :9.000                     
##  NA&#39;s   :263                                                        
##       fare            cabin             embarked        
##  Min.   :  0.000   Length:1309        Length:1309       
##  1st Qu.:  7.896   Class :character   Class :character  
##  Median : 14.454   Mode  :character   Mode  :character  
##  Mean   : 33.295                                        
##  3rd Qu.: 31.275                                        
##  Max.   :512.329                                        
##  NA&#39;s   :1                                              
##      boat                body        home.dest        
##  Length:1309        Min.   :  1.0   Length:1309       
##  Class :character   1st Qu.: 72.0   Class :character  
##  Mode  :character   Median :155.0   Mode  :character  
##                     Mean   :160.8                     
##                     3rd Qu.:256.0                     
##                     Max.   :328.0                     
##                     NA&#39;s   :1188</code></pre>
<pre class="r"><code># einlesen des Excel Datensatzes
titanic_xlsx &lt;- readxl::read_xlsx(&quot;data/titanic.xlsx&quot;)

# Berechnen der Mittelwerte des Alters in der Spalte `age`  
mean(titanic$age, na.rm = TRUE)</code></pre>
<pre><code>## [1] 29.88114</code></pre>
<pre class="r"><code>mean(titanic_sav$age, na.rm = TRUE)</code></pre>
<pre><code>## [1] 29.88114</code></pre>
<pre class="r"><code>mean(titanic_xlsx$age, na.rm = TRUE)</code></pre>
<pre><code>## [1] 29.88114</code></pre>
</div>
</div>
<div id="arbeiten-mit-dem-tidyverse" class="section level2">
<h2>Arbeiten mit dem tidyverse</h2>
<p>Das tidyverse bedient sich einer einfachen Syntax und 5 zentralen Funktionen. Das besondere der Syntax ist das aneinanderreihen von (tidyverse) Funktionen. Der Pipe-Operator verbindet Funktionen und gibt den Funktionsoutput der vorangegangenen Funktion in die folgende Funktion als Funktionsinput weiter. Der Pipe Operator wird mit der Syntax <code>%&gt;%</code> (Prozentzeichen, größer-Zeichen, Prozentzeichen) verwendet. Fast alle Funktionen im tidyverse erwarten einen <code>data.frame</code> als Funktionsinput und geben einen manipulierten <code>data.frame</code> zurück.</p>
<p>Die fünf zentralen Funktionen sind Verben, die ausdrücken, was die jeweilige Funktion “tut”.</p>
<div class="figure">
<img src="/img/tut1-r-dplyr-functions.png" alt="Auswahl wichtiger dplyr-Funktionen" />
<p class="caption">Auswahl wichtiger dplyr-Funktionen</p>
</div>
<div id="beispiele" class="section level4">
<h4>Beispiele</h4>
<p><em>Umrechnung der Fahrpreises</em></p>
<pre class="r"><code>titanic %&gt;% 
  mutate(fare = fare * 11.25) %&gt;%
  arrange(fare) %&gt;% tail</code></pre>
<pre><code>## # A tibble: 6 x 14
##   pclass survived name  sex     age sibsp parch ticket  fare cabin embarked
##    &lt;int&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
## 1      1        1 Fort… fema…  60       1     4 19950  2959. C23 … S       
## 2      1        1 Card… male   36       0     1 PC 17… 5764. B51 … C       
## 3      1        1 Card… fema…  58       0     1 PC 17… 5764. B51 … C       
## 4      1        1 Lesu… male   35       0     0 PC 17… 5764. B101  C       
## 5      1        1 Ward… fema…  35       0     0 PC 17… 5764. &lt;NA&gt;  C       
## 6      3        0 Stor… male   60.5     0     0 3701     NA  &lt;NA&gt;  S       
## # ... with 3 more variables: boat &lt;int&gt;, body &lt;int&gt;, home.dest &lt;chr&gt;</code></pre>
<p><em>Die ältesten 3 überlebenden Passagiere</em></p>
<pre class="r"><code>titanic %&gt;% 
  mutate(survived = if_else(survived == 1, TRUE, FALSE)) %&gt;% 
  filter(survived) %&gt;% 
  select(name, age, pclass) %&gt;% 
  arrange(age) %&gt;% 
  tail(n = 3)</code></pre>
<pre><code>## # A tibble: 3 x 3
##   name                                                age pclass
##   &lt;chr&gt;                                             &lt;dbl&gt;  &lt;int&gt;
## 1 Shine, Miss. Ellen Natalia                           NA      3
## 2 Smyth, Miss. Julia                                   NA      3
## 3 Thorneycroft, Mrs. Percival (Florence Kate White)    NA      3</code></pre>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Welche Passagiere haben den Höchsten Preis für die Reise bezahlt?</p>
<p>Geben Sie den Namen und den Fahrpreis in der finale Tablle aus.</p>
<pre class="r"><code>titanic %&gt;% 
  select(name, fare) %&gt;% 
  arrange(desc(fare)) %&gt;% 
  head(n = 10)</code></pre>
<pre><code>## # A tibble: 10 x 2
##    name                                                             fare
##    &lt;chr&gt;                                                           &lt;dbl&gt;
##  1 Cardeza, Mr. Thomas Drake Martinez                               512.
##  2 Cardeza, Mrs. James Warburton Martinez (Charlotte Wardle Drake)  512.
##  3 Lesurer, Mr. Gustave J                                           512.
##  4 Ward, Miss. Anna                                                 512.
##  5 Fortune, Miss. Alice Elizabeth                                   263 
##  6 Fortune, Miss. Ethel Flora                                       263 
##  7 Fortune, Miss. Mabel Helen                                       263 
##  8 Fortune, Mr. Charles Alexander                                   263 
##  9 Fortune, Mr. Mark                                                263 
## 10 Fortune, Mrs. Mark (Mary McDougald)                              263</code></pre>
<p><a href="https://www.encyclopedia-titanica.org/titanic-survivor/thomas-cardeza.html">Extrainfos</a></p>
</div>
<p><em>Was ist das durchschnittliche Alter der Passagiere?</em></p>
<ul>
<li>Zusammenfassen durch den Mittelwert - <code>summarise</code></li>
</ul>
<pre class="r"><code>titanic %&gt;% 
  summarise(age_mean = mean(age, na.rm = T))</code></pre>
<pre><code>## # A tibble: 1 x 1
##   age_mean
##      &lt;dbl&gt;
## 1     29.9</code></pre>
<p><em>Was ist das durchschnittliche Alter der männlichen und weiblichen Passagiere und was ist die Standardabeichung des Alters?</em></p>
<ul>
<li>Gruppen erstellen entsprechend des Geschlechts - <code>group_by</code></li>
<li>Zusammenfassen durch den Mittelwert - <code>summarise</code></li>
</ul>
<pre class="r"><code>titanic %&gt;% 
  group_by(sex) %&gt;% 
  summarise(age_mean = mean(age, na.rm = T), age_sd = sd(age, na.rm = T), n = n())</code></pre>
<pre><code>## # A tibble: 2 x 4
##   sex    age_mean age_sd     n
##   &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;
## 1 female     28.7   14.6   466
## 2 male       30.6   14.3   843</code></pre>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Was ist der durchschnittliche Fahrpreis und die jeweilige Streuung für die jeweiligen Klassen?</p>
<pre class="r"><code>titanic %&gt;% 
  group_by(pclass) %&gt;% 
  summarise(durchschnittl_fahrpreis = mean(fare, na.rm = TRUE))</code></pre>
<pre><code>## # A tibble: 3 x 2
##   pclass durchschnittl_fahrpreis
##    &lt;int&gt;                   &lt;dbl&gt;
## 1      1                    87.5
## 2      2                    21.2
## 3      3                    13.3</code></pre>
</div>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Der <em>New York Herold</em> titelte am 15.April 1912: <em>The Titanic sinks with 1800 on board; only 675 mostly women and children, saved</em>.</p>
<p>Finden sie heraus, ob diese Schlagzeile aus den Daten nachvollziehbar ist, indem Sie die Funktionen des <code>tidyverse</code> anwenden.</p>
<pre class="r"><code>titanic %&gt;%  
  group_by(survived, sex) %&gt;%  
  summarise(n = n()) %&gt;%  
  ungroup() %&gt;%  
  mutate(prop = n / sum(n)) </code></pre>
<pre><code>## # A tibble: 4 x 4
##   survived sex        n   prop
##      &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;dbl&gt;
## 1        0 female   127 0.0970
## 2        0 male     682 0.521 
## 3        1 female   339 0.259 
## 4        1 male     161 0.123</code></pre>
</div>
<div class="task">
<p><strong>Aufgabe</strong></p>
<p>Es ist bekannt dass die Rettungsboote auf der Titanic nicht ausgelastet waren. Nun sollen Sie die tatsächliche Auslasung der Rettungsboote auf der Titanic berechnen.</p>
<p>Die Informationen ob und in welches Rettungsboot ein Gast bestieg ist in der Spalte <code>boat</code> des Titanic Datensatzes vermerkt.</p>
<pre class="r"><code># auslastung pro boot 
auslastung_pro_boot &lt;- titanic %&gt;%  
  filter(!is.na(boat)) %&gt;%  
  group_by(boat) %&gt;%  
  summarise(n = n()) %&gt;%  
  mutate(auslastung = n / 65) 
   
# auslastung aller boote 
auslastung_aller_boote &lt;- auslastung_pro_boot %&gt;%  
  summarise(auslastung = mean(auslastung)) 
 
print(auslastung_pro_boot) </code></pre>
<pre><code>## # A tibble: 16 x 3
##     boat     n auslastung
##    &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;
##  1     1     5     0.0769
##  2     2    13     0.2   
##  3     3    26     0.4   
##  4     4    31     0.477 
##  5     5    30     0.462 
##  6     6    20     0.308 
##  7     7    23     0.354 
##  8     8    24     0.369 
##  9     9    25     0.385 
## 10    10    29     0.446 
## 11    11    25     0.385 
## 12    12    19     0.292 
## 13    13    42     0.646 
## 14    14    33     0.508 
## 15    15    38     0.585 
## 16    16    23     0.354</code></pre>
<pre class="r"><code>print(auslastung_aller_boote) </code></pre>
<pre><code>## # A tibble: 1 x 1
##   auslastung
##        &lt;dbl&gt;
## 1      0.390</code></pre>
</div>
</div>
</div>
</div>
<div id="kapitel-5---grafiken" class="section level1">
<h1>Kapitel 5 - Grafiken</h1>
<p>In R gibt es drei wichtige Softwarepakete um Grafiken zu erstellen.</p>
<ul>
<li><code>base</code></li>
<li><code>lattice</code></li>
<li><code>ggplot2</code></li>
</ul>
<p>An dieser Stelle wird ein kurzer Ausblick auf das Basispaket in gegeben und zwei weesentliche Funktionen vorgestellt.</p>
<ul>
<li>XY-Plots</li>
<li>Histogramme</li>
<li>Boxplots</li>
</ul>
<div id="xy-plots" class="section level3">
<h3>XY-Plots</h3>
<pre class="r"><code>par(mfrow = c(1,2)) 
# Bivariate Darstellung des Alters und des Preises 
plot(titanic$age, titanic$fare) 
plot(titanic$age, titanic$fare, col = titanic$pclass) </code></pre>
<p><img src="/post/2018-09-06-r-tutorium-gmds-2018_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>par(mfrow = c(1, 1)) </code></pre>
</div>
<div id="histogramme" class="section level3">
<h3>Histogramme</h3>
<pre class="r"><code>hist(titanic$age) </code></pre>
<p><img src="/post/2018-09-06-r-tutorium-gmds-2018_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="boxplots" class="section level3">
<h3>Boxplots</h3>
<pre class="r"><code>boxplot(titanic$age) </code></pre>
<p><img src="/post/2018-09-06-r-tutorium-gmds-2018_files/figure-html/unnamed-chunk-21-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="ruckblick-und-ausblick" class="section level1">
<h1>Rückblick und Ausblick</h1>
<ul>
<li>Vom elementaren Datentyp über Vektoren zu Listen und data.frames</li>
<li><code>data.frames</code> stellen das zentrale Datenelement im tidyverse dar</li>
<li><p>Das <code>tidyverse</code> ist der Werkzeigkasten in R zur Datenmanipulation</p></li>
<li>Weiter wichtige Funktionen z.B. aus der Inferenzstatistik sind in R vorhanden z.B. <code>?t.test</code></li>
<li><p>Ein großer Funktionsumfrang zum Modellieren von Daten z.B. von Lineare Regression bis zur Neuronalen Netzen</p></li>
</ul>
<p>Weitere statistische Operationen wie z.B. Konfidenzintervalle und Inferenzstatistik (t.tests)</p>
<pre class="r"><code>titanic %&gt;% 
  group_by(sex) %&gt;% 
  filter(age &gt;= 18) %&gt;% 
  summarise(ci = list(Hmisc::smean.cl.boot(age))) %&gt;% 
  mutate_at(&quot;ci&quot;, ~ map(.x, enframe)) %&gt;% 
  unnest(ci) %&gt;% 
  spread(key = name, value = value)</code></pre>
<pre><code>## # A tibble: 2 x 4
##   sex    Lower  Mean Upper
##   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 female  31.8  33.2  34.5
## 2 male    32.7  33.6  34.6</code></pre>
<img src="/img/tut1-example-plot.png" />
<hr>
<div class="figure">
<img src="/img/tut1-r-decision-tree.png" />

</div>
<pre class="r"><code>library(rpart) # Paket mit dem Entscheidungsbäume erstellt werden können
library(rattle) # Paket mit dem Entscheidungsbäume visualisiert werden können

titanic %&gt;% 
  ggplot(aes(x = factor(pclass), y = fare)) + 
  stat_summary(fun.data = mean_cl_boot, geom = &quot;errorbar&quot;, width = .15, size = 1.25) + 
  stat_summary(fun.y = mean, geom = &quot;point&quot;, size = 2) +
  geom_point(alpha = .05) +
  ylab(&quot;Fahrpreis in Dollar (1912)&quot;) +
  scale_x_discrete(labels = c(&quot;1. Klasse&quot;, &quot;2. Klasse&quot;, &quot;3. Klasse&quot;)) +
  scale_y_continuous(label = scales::dollar_format(), breaks = seq(0, 120, by = 20), limits = c(0, 120)) +
  theme_bw() +
  theme(axis.title.x = element_blank(), 
        axis.text = element_text(size = 12))</code></pre>
<pre><code>## Warning: Removed 68 rows containing non-finite values (stat_summary).

## Warning: Removed 68 rows containing non-finite values (stat_summary).</code></pre>
<pre><code>## Warning: Removed 68 rows containing missing values (geom_point).</code></pre>
<p><img src="/post/2018-09-06-r-tutorium-gmds-2018_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>train &lt;- titanic %&gt;% select(survived, sex, age, pclass)
decision_tree &lt;- rpart(survived ~ .,
                 data = train,
                 method =&quot;class&quot;)

fancyRpartPlot(decision_tree, main = &quot;&quot;, sub = &quot;Welche Personen haben den Titanic-Untergang überlebt?&quot;)</code></pre>
<p><img src="/post/2018-09-06-r-tutorium-gmds-2018_files/figure-html/unnamed-chunk-23-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>

      
      <div class="related">

<h3>Similar articles:</h3>
<ul>
	
	<li><a href="/post/import-ordered-spss-factors-into-r/">Import ordered SPSS factors into R</a></li>
	
</ul>
</div>
      
    </div>
    
  </div>
</section>

<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'shortname';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://github.com/jnshsrs">Jens Hüsers</a> 2018</p>
    
      <p>Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/ribice/kiss">Kiss</a>.</p>
    
  </div>
</section>

<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="\/\/matomo.example.com\/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>
  <img src="//matomo.example.com/piwik.php?idsite=1&amp;rec=1" style="border:0" alt="" />
</noscript>

<script>
    (function(f, a, t, h, o, m){
        a[h]=a[h]||function(){
            (a[h].q=a[h].q||[]).push(arguments)
        };
        o=f.createElement('script'),
        m=f.getElementsByTagName('script')[0];
        o.async=1; o.src=t; o.id='fathom-script';
        m.parentNode.insertBefore(o,m)
    })(document, window, '\/\/fathom.example.com\/tracker.js', 'fathom');
    fathom('trackPageview');
</script>
</body>
</html>

